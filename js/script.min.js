"use strict";const form=document.getElementById("form");class ListLinks{constructor(t){this.container=t,this.list=JSON.parse(localStorage.getItem("listLinks"))||defaultList}init(){this.refresh()}pushEl(t){this.list.map(t=>t.url).includes(t.url)||(this.list.push(t),this.refresh())}remove(t){const e=this.list.findIndex(e=>e===t);this.list.splice(e,1),this.refresh()}refresh(){this.addToLocalStorage(),this.render()}addToLocalStorage(){localStorage.setItem("listLinks",JSON.stringify(this.list))}render(){const t=this.addUl();this.container.innerHTML="",this.container.append(t)}addUl(){const t=document.createElement("ul");t.classList.add("row","list-unstyled","mt-4");for(let e of this.list){const i=this.addLi(e);t.append(i)}return t}addLi(t){const e=document.createElement("li");return e.classList.add("border","shadow-sm","mb-3","p-2"),e.innerHTML=this.addTitle(t),e.innerHTML+=this.addDescription(t),e.innerHTML+=this.addLink(t),e.append(this.addButton(t)),e}addTitle({title:t}){return`<h3 class="h6">${t}</h3>`}addDescription({description:t}){return t?`<p>${t}</p>`:""}addLink({url:t}){return`<a class="btn btn-sm btn-outline-warning mr-2" href="${t}">visitez le lien</a>`}addButton(t){const e=document.createElement("button");return e.type="button",e.classList.add("btn","btn-warning","btn-sm"),e.textContent="Supprimer le lien",e.addEventListener("click",()=>{this.remove(t)}),e}}const container=document.getElementById("container"),listLinks=new ListLinks(container);listLinks.init(),form.addEventListener("submit",t=>{t.preventDefault(),listLinks.pushEl({title:form.elements.title.value.trim(),url:form.elements.url.value.trim(),description:form.elements.description.value.trim(),category:form.elements.category.value}),form.reset()});